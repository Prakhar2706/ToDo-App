{% extends 'tasks/base.html' %}

{% block content %}

<h3 style="text-align: center; color: #2b6777; font-family: 'Arial', sans-serif; margin-top: 20px; text-transform: uppercase; letter-spacing: 2px;">Update Task</h3>

<div style="display: flex; justify-content: center; align-items: center; min-height: 80vh; background: linear-gradient(135deg, #e0ece4, #f7f3e9); padding: 10px;">
    <div style="background-color: #fff; border-radius: 12px; box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2); padding: 30px; max-width: 600px; width: 100%; transition: transform 0.3s ease;">
        <!-- Add enctype for file upload -->
        <form method="POST" action="" enctype="multipart/form-data" style="display: flex; flex-direction: column; gap: 20px;">
            {% csrf_token %}

            <!-- Task Title -->
            <h5 style="color: #2b6777; font-family: 'Arial', sans-serif; margin-bottom: 0px; font-size: 18px; font-weight: bold;">Task Title :</h5>
            <div style="border: 2px solid #2b6777; padding: 10px; border-radius: 8px;">
                {{ form.title }}
            </div>

            <!-- Task Description -->
            <h5 style="color: #2b6777; font-family: 'Arial', sans-serif; margin-bottom: 0px; font-size: 18px; font-weight: bold;">Task Description :</h5>
            <div style="border: 2px solid #2b6777; padding: 10px; border-radius: 8px;">
                {{ form.description }}
            </div>

            <!-- Task Due Date -->
            <h5 style="color: #2b6777; font-family: 'Arial', sans-serif; margin-bottom: 0px; font-size: 18px; font-weight: bold;">Task Due Date :</h5>
            <div style="border: 2px solid #2b6777; padding: 10px; border-radius: 8px;">
                {{ form.due_date }}
            </div>

            <!-- Task Priority -->
            <div style="display: flex; align-items: center;">
                <h5 style="color: #2b6777; font-family: 'Arial', sans-serif; font-size: 18px; font-weight: bold; padding-right: 10px;">Task Priority:</h5>
                <div>
                    {{ form.priority }}
                </div>
            </div>

            <!-- Task File Upload -->
            <h5 style="color: #2b6777; font-family: 'Arial', sans-serif; margin-bottom: 0px; font-size: 18px; font-weight: bold;">Upload File :</h5>
            <div style="border: 2px solid #2b6777; padding: 10px; border-radius: 8px;">
                {{ form.file_attachment }}
            </div>

            <!-- If file is already uploaded, show a link -->
            {% if task.file %}
            <div>
                <a href="{{ task.file_attachment.url }}" target="_blank" style="color: #4A90E2;">View Current File</a>
            </div>
            {% endif %}

            <!-- Submit Button -->
            <input class="submit" type="submit" value="Update Task" 
                style="padding: 12px; background: #417690; color: white; font-size: 18px; border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; width: 100%; margin-top: 10px;">
        </form>
    </div>
</div>

<!-- Additional inline CSS for animations and responsive design -->
<style>
    form input[type="text"], form input[type="date"], form textarea {
        padding: 10px;
        font-size: 16px;
        border: 2px solid #5D3F8B;
        border-radius: 8px;
        transition: all 0.3s ease;
    }

    form input[type="text"]:focus, form input[type="date"]:focus, form textarea:focus {
        border-color: #6ebb4d;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        transform: scale(1.05);
    }

    .submit:hover {
        background-color: #4e9f3d;
        transform: scale(1.05);
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        h3 {
            font-size: 24px;
        }

        div[style*="max-width"] {
            padding: 20px;
        }

        form input[type="submit"] {
            font-size: 16px;
        }
    }

    @media (max-width: 576px) {
        div[style*="max-width"] {
            padding: 15px;
        }

        form input[type="text"], form input[type="date"], form textarea {
            font-size: 14px;
        }

        form input[type="submit"] {
            font-size: 14px;
        }
    }
</style>

{% endblock %}
